# Current State Template
# Generated by Document Reader Agent
# This template defines the structure of current_state.yaml output

current_state:
  # Project information
  project:
    name: "{project_name}"
    version: "{project_version}"
    last_updated: "{timestamp}"

  # Document information
  documents:
    prd:
      path: "{prd_path}"
      version: "{prd_version}"
      requirements_count: {prd_count}
      last_modified: "{prd_modified}"
    srs:
      path: "{srs_path}"
      version: "{srs_version}"
      features_count: {srs_count}
      last_modified: "{srs_modified}"
    sds:
      path: "{sds_path}"
      version: "{sds_version}"
      components_count: {sds_count}
      last_modified: "{sds_modified}"

  # Requirements extracted from PRD
  requirements:
    functional:
      - id: "FR-XXX"
        title: "{requirement_title}"
        description: "{requirement_description}"
        priority: "P0|P1|P2|P3"
        status: "active|deprecated|pending"
        user_story: "{user_story}"
        acceptance_criteria:
          - "{criterion_1}"
          - "{criterion_2}"
        dependencies:
          - "{dependency_id}"
        source_location: "{file_path}:{line_number}"
    non_functional:
      - id: "NFR-XXX"
        title: "{requirement_title}"
        description: "{requirement_description}"
        category: "performance|security|scalability|usability|reliability|maintainability"
        target_metric: "{metric}"
        priority: "P0|P1|P2|P3"
        status: "active|deprecated|pending"
        source_location: "{file_path}:{line_number}"

  # Features extracted from SRS
  features:
    - id: "SF-XXX"
      name: "{feature_name}"
      description: "{feature_description}"
      use_cases:
        - "{use_case_reference}"
      source_requirements:
        - "FR-XXX"
        - "NFR-XXX"
      status: "active|deprecated|pending"
      source_location: "{file_path}:{line_number}"

  # Use Cases extracted from SRS
  use_cases:
    - id: "UC-XXX"
      name: "{use_case_name}"
      primary_actor: "{actor}"
      preconditions:
        - "{precondition}"
      main_flow:
        - "{step_1}"
        - "{step_2}"
      alternative_flows:
        - "{alternative_step}"
      postconditions:
        - "{postcondition}"
      source_location: "{file_path}:{line_number}"

  # Components extracted from SDS
  components:
    - id: "CMP-XXX"
      name: "{component_name}"
      type: "service|library|module|api"
      description: "{component_description}"
      responsibilities:
        - "{responsibility_1}"
        - "{responsibility_2}"
      dependencies:
        - "{dependency_component}"
      source_features:
        - "SF-XXX"
      source_location: "{file_path}:{line_number}"

  # API specifications extracted from SDS
  apis:
    - id: "API-XXX"
      name: "{api_name}"
      method: "GET|POST|PUT|DELETE|PATCH"
      endpoint: "{endpoint_path}"
      request_schema:
        field_name: "type"
      response_schema:
        field_name: "type"
      component_id: "CMP-XXX"
      source_location: "{file_path}:{line_number}"

  # Traceability mappings between documents
  traceability:
    # PRD to SRS mappings
    prd_to_srs:
      - prd_id: "FR-XXX"
        srs_ids:
          - "SF-XXX"
          - "SF-YYY"
    # SRS to SDS mappings
    srs_to_sds:
      - srs_id: "SF-XXX"
        sds_ids:
          - "CMP-XXX"
          - "CMP-YYY"

  # Coverage statistics
  statistics:
    total_requirements: {total_requirements}
    total_features: {total_features}
    total_use_cases: {total_use_cases}
    total_components: {total_components}
    total_apis: {total_apis}
    # Coverage ratios (0.0 - 1.0)
    coverage_prd_to_srs: {prd_to_srs_coverage}
    coverage_srs_to_sds: {srs_to_sds_coverage}
